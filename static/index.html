<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tulsa - Creator CRM Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Tulsa - Creator CRM</h1>
            <p style="opacity: 0.8; font-size: 0.9em; margin-top: 5px;">In recognition of Roy and Leon Daley</p>
            <nav>
                <button class="nav-btn active" data-view="dashboard">Dashboard</button>
                <button class="nav-btn" data-view="subscribers">Subscribers</button>
                <button class="nav-btn" data-view="interactions">Interactions</button>
                <button class="nav-btn" data-view="expiring">Expiring Soon</button>
            </nav>
        </header>

        <!-- Dashboard View -->
        <div id="dashboard-view" class="view active">
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Subscribers</h3>
                    <p class="stat-value" id="total-subscribers">0</p>
                </div>
                <div class="stat-card vip">
                    <h3>VIP Subscribers</h3>
                    <p class="stat-value" id="vip-count">0</p>
                </div>
                <div class="stat-card">
                    <h3>Regular Subscribers</h3>
                    <p class="stat-value" id="regular-count">0</p>
                </div>
                <div class="stat-card">
                    <h3>Casual Subscribers</h3>
                    <p class="stat-value" id="casual-count">0</p>
                </div>
                <div class="stat-card revenue">
                    <h3>Total Revenue</h3>
                    <p class="stat-value" id="total-revenue">$0.00</p>
                </div>
                <div class="stat-card warning">
                    <h3>Expiring Soon</h3>
                    <p class="stat-value" id="expiring-soon">0</p>
                </div>
            </div>
        </div>

        <!-- Subscribers View -->
        <div id="subscribers-view" class="view">
            <div class="view-header">
                <h2>Subscribers</h2>
                <button class="btn-primary" onclick="showAddSubscriberModal()">+ Add Subscriber</button>
            </div>
            
            <div class="filters">
                <select id="platform-filter" onchange="loadSubscribers()">
                    <option value="">All Platforms</option>
                    <option value="OnlyFans">OnlyFans</option>
                    <option value="Instagram">Instagram</option>
                    <option value="Twitter">Twitter</option>
                    <option value="Snapchat">Snapchat</option>
                    <option value="Telegram">Telegram</option>
                </select>
                
                <select id="tier-filter" onchange="loadSubscribers()">
                    <option value="">All Tiers</option>
                    <option value="VIP">VIP</option>
                    <option value="Regular">Regular</option>
                    <option value="Casual">Casual</option>
                </select>
            </div>

            <div id="subscribers-list" class="data-list"></div>
        </div>

        <!-- Interactions View -->
        <div id="interactions-view" class="view">
            <div class="view-header">
                <h2>Recent Interactions</h2>
                <button class="btn-primary" onclick="showAddInteractionModal()">+ Add Interaction</button>
            </div>
            <div id="interactions-list" class="data-list"></div>
        </div>

        <!-- Expiring View -->
        <div id="expiring-view" class="view">
            <div class="view-header">
                <h2>Expiring Subscriptions</h2>
                <select id="expiring-days" onchange="loadExpiring()">
                    <option value="7">Next 7 Days</option>
                    <option value="14">Next 14 Days</option>
                    <option value="30">Next 30 Days</option>
                </select>
            </div>
            <div id="expiring-list" class="data-list"></div>
        </div>
    </div>

    <!-- Add Subscriber Modal -->
    <div id="add-subscriber-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('add-subscriber-modal')">&times;</span>
            <h2>Add New Subscriber</h2>
            <form id="add-subscriber-form" onsubmit="addSubscriber(event)">
                <div class="form-group">
                    <label>Name *</label>
                    <input type="text" name="name" required>
                </div>
                <div class="form-group">
                    <label>Username *</label>
                    <input type="text" name="username" required>
                </div>
                <div class="form-group">
                    <label>Platform *</label>
                    <select name="platform" required>
                        <option value="OnlyFans">OnlyFans</option>
                        <option value="Instagram">Instagram</option>
                        <option value="Twitter">Twitter</option>
                        <option value="Facebook">Facebook</option>
                        <option value="Snapchat">Snapchat</option>
                        <option value="WhatsApp">WhatsApp</option>
                        <option value="Signal">Signal</option>
                        <option value="Telegram">Telegram</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Tier</label>
                    <select name="tier">
                        <option value="Regular">Regular</option>
                        <option value="VIP">VIP</option>
                        <option value="Casual">Casual</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Birthday</label>
                    <input type="date" name="birthday">
                </div>
                <div class="form-group">
                    <label>Notes</label>
                    <textarea name="notes" rows="3"></textarea>
                </div>
                <button type="submit" class="btn-primary">Add Subscriber</button>
            </form>
        </div>
    </div>

    <!-- Add Interaction Modal -->
    <div id="add-interaction-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('add-interaction-modal')">&times;</span>
            <h2>Add Interaction</h2>
            <form id="add-interaction-form" onsubmit="addInteraction(event)">
                <div class="form-group">
                    <label>Subscriber *</label>
                    <select name="subscriber_id" id="interaction-subscriber-select" required>
                        <option value="">Select a subscriber...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Type *</label>
                    <select name="interaction_type" required>
                        <option value="message">Message</option>
                        <option value="purchase">Purchase</option>
                        <option value="tip">Tip</option>
                        <option value="renewal">Renewal</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Amount ($)</label>
                    <input type="number" name="amount" step="0.01" min="0">
                </div>
                <div class="form-group">
                    <label>Notes</label>
                    <textarea name="notes" rows="3"></textarea>
                </div>
                <button type="submit" class="btn-primary">Add Interaction</button>
            </form>
        </div>
    </div>

    <!-- Subscriber Detail Modal -->
    <div id="subscriber-detail-modal" class="modal">
        <div class="modal-content large">
            <span class="close" onclick="closeModal('subscriber-detail-modal')">&times;</span>
            <div id="subscriber-detail-content"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
